<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>caffeine</title>
		<script src="http://threejs.org/build/three.js"></script>
		<label> Select a file: </label>
		<input type="file" id="pickfile"></input>
		<pre id="test"><pre>
		<script>

		window.onload = function() { 
			//readFile
			document.getElementById("pickfile").addEventListener('change',function (e) {
                //Variable representing target of event generation (button)
                var contain = pickfile.files[0];

                //Open file reader to read text file
                var reader = new FileReader();

                //Begin 
                reader.onload = function(){
                //Text contains contents of file
					var text = reader.result;
					test.innerText = reader.result;
				};
				reader.readAsText(contain);
			});
			//Define the WebGL renderer
			var renderer = new THREE.WebGLRenderer({antialias: true }); // set antialias as true
			renderer.setSize(800, 600); // Scene size (Width, Height)
			renderer.setClearColor( 0x000000 );
			
			document.body.appendChild(renderer.domElement);
			
			// define the scene
			var scene = new THREE.Scene();
			/*axis to help, learned from video
			var axis = new THREE.AxisHelper(10);
			scene.add(axis);*/
			
			//define the camera
			var camera = new THREE.PerspectiveCamera(
					45,             // Field of view
					800 / 600,      // Aspect ratio
					0.1,            // Near plane
					600           // Far plane
			);
			camera.position.x= 0;  //default value anyway
			camera.position.y= 0;  //default value anyway
			camera.position.z = 150;  //We move the camera backwards to see all the scene
			camera.lookAt(scene.position);
			// object
			/*
			var glmol02 = new GLmol('caffeine.txt');
			glmol02.loadMolecule();
			
			
			function readFile(evt){
				var fileObject = evt.target.files[0];
				var reader = new FileReader();
				reader.onload = function (){
					alert(this.result)
				}
				reader.readAsText(fileObject)
			}
			*/
			//light
			var spotLight = new THREE.SpotLight(0xFFFFFF);
			//spotLight.castShadow = true;
			spotLight.position.set (15,30,50);
			scene.add(spotLight);
			
			// Render the scene:
			var render = function () {
			    renderer.render(scene, camera); //renders the whole scene, updating it recursively.
			};
			render();
		};
		</script>
	</head>
	<body></body>
</html>