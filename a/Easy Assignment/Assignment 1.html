  <!DOCTYPE html>
<html>
 <head>
   <meta charset=utf-8>
   <title>Asteroids</title>
   <script src="http://threejs.org/build/three.js"></script>
   <script>
   window.onload = function() {
   //renderer
   var renderer = new THREE.WebGLRenderer();
   renderer.setSize( 800,600 );
   document.body.appendChild( renderer.domElement );
   //scene
   var scene = new THREE.Scene();

   //camera:
   var camera = new THREE.PerspectiveCamera(
     35,             // Field of view
     800/600,      // Aspect ratio
     0.1,            // Near plane
     10000           // Far plane
   );
   camera.position.x= 0;
   camera.position.y= 0;
   camera.position.z= 100;  //We move the camera a bit backwards to see all the scene
   camera.lookAt(scene.position);
   //objects
   var geometry = new THREE.Geometry();
   geometry.vertices.push(new THREE.Vector3(0,0,0));
   geometry.vertices.push(new THREE.Vector3(3,0,0));
   geometry.vertices.push(new THREE.Vector3(1.5,2.5,0));
   geometry.faces.push(new THREE.Face3(0, 1, 2));
   geometry.computeFaceNormals();
   var triangle = new THREE.Mesh(geometry, new THREE.MeshNormalMaterial());
   triangle.translateY(-31);
   scene.add(triangle);
    for(var i =0; i<5;i++){
      var geometry = new THREE.Geometry();
      geometry.vertices.push(new THREE.Vector3(0,0,0));
      geometry.vertices.push(new THREE.Vector3(3,0,0));
      geometry.vertices.push(new THREE.Vector3(1.5,2.5,0));
      geometry.faces.push(new THREE.Face3(0, 1, 2));
      geometry.computeFaceNormals();
      var triangles = new THREE.Mesh(geometry, new THREE.MeshNormalMaterial());
      triangles.translateX(-41+i*3);
      triangles.translateY(23);
      scene.add(triangles);
    }
	var particles = new THREE.Geometry;
    for (var p = 0; p<1000; p++) {
      var particle = new THREE.Vector3(Math.random() * 400 - 250, Math.random() * 400 - 250, Math.random() * 400 - 250);
      particles.vertices.push(particle);
    }
    var particleMaterial = new THREE.ParticleBasicMaterial({ color: 0xffffff, size: 1 });
    var particleSystem = new THREE.ParticleSystem(particles, particleMaterial);
    scene.add(particleSystem);
	/*
    for(var i = 0; i<50;i++){
      var randomNum1 = Math.floor(Math.random()*84) - 42;
      var randomNum2 = Math.floor(Math.random()*64) - 32;
      var randomNum3 = Math.floor(Math.random()*3) + 1;
      var pointGeometry = new THREE.Geometry();
	    pointGeometry.vertices.push(new THREE.Vector3( randomNum1, randomNum2, 0));
	    var pointMaterial = new THREE.PointCloudMaterial( { size: randomNum3, sizeAttenuation: false } );
	    var point = new THREE.PointCloud( pointGeometry, pointMaterial );
	    scene.add(point);
    }
     test for 3d object
    for(var i =0; i<5;i++){
      var randomNum1 = Math.floor(Math.random()*80) - 40;
      var randomNum2 = Math.floor(Math.random()*60) - 30;
      var randomColor = Math.floor(Math.random()*255) +1 ;
      var geometry = new THREE.BoxGeometry( 2, 2, 2 );
      var color = new THREE.Color("rgb(randomColor, randomColor, randomColor)");
      var material = new THREE.MeshBasicMaterial( {color:color } );
      geometry.vertices.push(new THREE.Vector3(1,2,0));
      var cube = new THREE.Mesh(geometry,material);
      cube.translateX(randomNum1);
      cube.translateY(randomNum2);
      scene.add(cube);
    }
    */
    var geometry = new THREE.Geometry();
    geometry.vertices.push(
      new THREE.Vector3( -1, 0, 0 ),
      new THREE.Vector3( 0, 1, 0 ),
      new THREE.Vector3( 1, 0, 0 )
    );
    var material = new THREE.LineBasicMaterial({color: 0x0000ff});
    var line = new THREE.Line( geometry, material );
    scene.add( line );
   //light source
   var pointLight = new THREE.PointLight(0xFFFFFF);
   pointLight.position.x = 10;
   pointLight.position.y = 50;
   pointLight.position.z = 100;
   scene.add(pointLight);
   //mark dialog
   var dialog = document.createElement('div');
   var randomScore = Math.floor(Math.random()*100) +1;
   var t = document.createTextNode("Score: " + randomScore);
   dialog.style.position = 'absolute';
   dialog.style.fontSize = "28px";
   dialog.style.backgroundColor = "white";
   dialog.style.top = 20 + 'px';
   dialog.style.left = 20 + 'px';
   dialog.appendChild(t);
   document.body.appendChild(dialog);
   // Render the scene:
   var render = function () {
     requestAnimationFrame(render); //this will update scene frames.
	 particleSystem.rotation.y += 0.0001;
	 particleSystem.rotation.x += 0.0001;
    if(triangle.position.x>=-40){
       triangle.position.x-=0.1;
    }
     //point.translateY();
     renderer.render(scene, camera); //renders the whole scene, updating it recursively.
   };
   render();
 };
   </script>
 </head>
 <body></body>
 </html>
